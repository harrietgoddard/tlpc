<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The Loved Pot Co. - Premium preowned cookware for passionate home cooks. Discover quality pots, pans, and kitchen essentials with a story to tell.">
  <meta name="keywords" content="preowned cookware, premium pots, pans, kitchen essentials, sustainable cooking, quality cookware, second-hand kitchen">
  <meta name="author" content="The Loved Pot Co.">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://thelovedpotco.com/">
  <meta property="og:title" content="The Loved Pot Co. - Premium Preowned Cookware">
  <meta property="og:description" content="Premium preowned cookware for passionate home cooks. Discover quality pots, pans, and kitchen essentials with a story to tell.">
  <meta property="og:image" content="https://thelovedpotco.com/images/og-image.jpg">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://thelovedpotco.com/">
  <meta property="twitter:title" content="The Loved Pot Co. - Premium Preowned Cookware">
  <meta property="twitter:description" content="Premium preowned cookware for passionate home cooks. Discover quality pots, pans, and kitchen essentials with a story to tell.">
  <meta property="twitter:image" content="https://thelovedpotco.com/images/twitter-image.jpg">

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">

  <title>The Loved Pot Co. - Premium Preowned Cookware</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="announcement-bar">
    <div class="announcement-bar__container">
      Coming soon &#183; follow on instagram &#183; <a href="https://www.instagram.com/thelovedpotco" class="animated-link">@thelovedpotco</a>
    </div>
  </div>
  <header class="header">
    <div class="header__container">
      <div class="header__logo-section">
        <a href="index.html" class="header__logo">
          <img src="logo.png" alt="The Loved Pot Co.">
        </a>
        <button class="header__mobile-menu-btn" aria-label="Open menu">
          <svg width="30px" height="30px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M3 5H21" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 12H21" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 19H21" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </button>
      </div>
      <nav class="header__nav">
        <ul class="header__nav-list">
          <li class="header__nav-item menu-link-animated">
            <a href="index.html" class="header__nav-link"><span class="animated-underline">home</span></a>
          </li>
          <li class="header__nav-item menu-link-animated">
            <a href="about.html" class="header__nav-link"><span class="animated-underline">about</span></a>
          </li>
          <li class="header__nav-item menu-link-animated">
            <a href="blog.html" class="header__nav-link"><span class="animated-underline">blog</span></a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Mobile drawer -->
  <div class="mobile-drawer">
    <div class="mobile-drawer__header">
      <button class="mobile-drawer__close" aria-label="Close menu">
        <svg width="30px" height="30px" stroke-width="1.5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="#000000"><path d="M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
      </button>
    </div>
    <nav>
      <ul class="mobile-drawer__nav-list">
        <li class="mobile-drawer__nav-item">
          <a href="index.html" class="mobile-drawer__nav-link">home</a>
        </li>
        <li class="mobile-drawer__nav-item">
          <a href="about.html" class="mobile-drawer__nav-link">about</a>
        </li>
        <li class="mobile-drawer__nav-item">
          <a href="blog.html" class="mobile-drawer__nav-link">blog</a>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Mobile overlay -->
  <div class="mobile-overlay"></div>

  <div class="product-slideshow wrapper-spacing--v color-scheme--white shown-on-scroll animated fadeIn" data-wetheme-section-type="product-slideshow" data-wetheme-section-id="template--23457664958657__product_slideshow_3zJbth" style="--padding-section-top: 60px; --padding-section-bottom: 60px; --image-max-width: 50%; --image-max-width-mobile: 80%; --background-text-font-size-desktop: 48px; --background-text-font-size-mobile: 36px; --background-text-opacity: 0.2; --heading-font-size-desktop: 22px; --text-font-size-desktop: 16px; --heading-font-size-mobile: 22px; --text-font-size-mobile: 14px;">
    <product-slideshow data-section-id="template--23457664958657__product_slideshow_3zJbth" data-grid-slider-wrapper="" style="--slide-content-height:0px;">
      <!-- navigation -->
      <div class="swiper-btn--wrapper small-hide swiper-btn-layout__left-and-right">
        <div class="swiper-button--prev btn dynamic-section-button--" tabindex="0" role="button" aria-label="Previous slide" aria-controls="swiper-wrapper-125710c59c34d2a64">
          <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M13 5L8 10L13 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </div>
        <div class="swiper-button--next btn dynamic-section-button--" tabindex="0" role="button" aria-label="Next slide" aria-controls="swiper-wrapper-125710c59c34d2a64">
          <svg viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M8 5L13 10L8 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        </div>
      </div>

      <div class="swiper swiper-initialized swiper-horizontal swiper-backface-hidden">
        <div class="swiper-wrapper">
          <div class="swiper-slide" data-block-index="0">
            <div class="product-slideshow__slide-content">
              <div class="responsive-image-wrapper">
                <img loading="lazy" class="theme-img  js" style=" object-fit:cover;object-position:50.0% 50.0%!important;" alt="leaves" width="5760" height="3840" srcset="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=550 550w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=750 750w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1100 1100w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445 1445w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1680 1680w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2048 2048w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2200 2200w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2890 2890w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=5760 5760w" sizes="(min-width: 2000px) 1000px, (min-width: 1445px) calc(100vw / 2), (min-width: 1200px) calc(100vw / 1.75), (min-width: 1000px) calc(100vw / 1.5), (min-width: 750px) calc(100vw / 3), 100vw" src="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445">
              </div> 
            </div>
          </div>
          <div class="swiper-slide" data-block-index="1">
            <div class="product-slideshow__slide-content">
              <div class="responsive-image-wrapper">
                <img loading="lazy" class="theme-img  js" style=" object-fit:cover;object-position:50.0% 50.0%!important;" alt="leaves" width="5760" height="3840" srcset="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=550 550w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=750 750w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1100 1100w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445 1445w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1680 1680w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2048 2048w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2200 2200w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2890 2890w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=5760 5760w" sizes="(min-width: 2000px) 1000px, (min-width: 1445px) calc(100vw / 2), (min-width: 1200px) calc(100vw / 1.75), (min-width: 1000px) calc(100vw / 1.5), (min-width: 750px) calc(100vw / 3), 100vw" src="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445">
              </div> 
            </div>
          </div>
          <div class="swiper-slide" data-block-index="2">
            <div class="product-slideshow__slide-content">
              <div class="responsive-image-wrapper">
                <img loading="lazy" class="theme-img  js" style=" object-fit:cover;object-position:50.0% 50.0%!important;" alt="leaves" width="5760" height="3840" srcset="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=550 550w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=750 750w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1100 1100w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445 1445w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1680 1680w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2048 2048w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2200 2200w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2890 2890w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=5760 5760w" sizes="(min-width: 2000px) 1000px, (min-width: 1445px) calc(100vw / 2), (min-width: 1200px) calc(100vw / 1.75), (min-width: 1000px) calc(100vw / 1.5), (min-width: 750px) calc(100vw / 3), 100vw" src="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445">
              </div> 
            </div>
          </div>
          <div class="swiper-slide" data-block-index="0">
            <div class="product-slideshow__slide-content">
              <div class="responsive-image-wrapper">
                <img loading="lazy" class="theme-img  js" style=" object-fit:cover;object-position:50.0% 50.0%!important;" alt="leaves" width="5760" height="3840" srcset="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=550 550w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=750 750w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1100 1100w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445 1445w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1680 1680w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2048 2048w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2200 2200w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2890 2890w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=5760 5760w" sizes="(min-width: 2000px) 1000px, (min-width: 1445px) calc(100vw / 2), (min-width: 1200px) calc(100vw / 1.75), (min-width: 1000px) calc(100vw / 1.5), (min-width: 750px) calc(100vw / 3), 100vw" src="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445">
              </div> 
            </div>
          </div>
          <div class="swiper-slide" data-block-index="1">
            <div class="product-slideshow__slide-content">
              <div class="responsive-image-wrapper">
                <img loading="lazy" class="theme-img  js" style=" object-fit:cover;object-position:50.0% 50.0%!important;" alt="leaves" width="5760" height="3840" srcset="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=550 550w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=750 750w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1100 1100w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445 1445w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1680 1680w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2048 2048w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2200 2200w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2890 2890w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=5760 5760w" sizes="(min-width: 2000px) 1000px, (min-width: 1445px) calc(100vw / 2), (min-width: 1200px) calc(100vw / 1.75), (min-width: 1000px) calc(100vw / 1.5), (min-width: 750px) calc(100vw / 3), 100vw" src="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445">
              </div> 
            </div>
          </div>
          <div class="swiper-slide" data-block-index="2">
            <div class="product-slideshow__slide-content">
              <div class="responsive-image-wrapper">
                <img loading="lazy" class="theme-img  js" style=" object-fit:cover;object-position:50.0% 50.0%!important;" alt="leaves" width="5760" height="3840" srcset="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=550 550w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=750 750w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1100 1100w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445 1445w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1680 1680w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2048 2048w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2200 2200w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=2890 2890w,//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=5760 5760w" sizes="(min-width: 2000px) 1000px, (min-width: 1445px) calc(100vw / 2), (min-width: 1200px) calc(100vw / 1.75), (min-width: 1000px) calc(100vw / 1.5), (min-width: 750px) calc(100vw / 3), 100vw" src="//flow-testing-store.myshopify.com/cdn/shop/files/close-up-green-leaves-nature.jpg?v=1750165239&amp;width=1445">
              </div> 
            </div>
          </div>
        </div>
      </div>

      <div class="product-slideshow__overlay">

      <div class="product-slideshow__overlay-text" style="z-index: 10;">
        <div class="product-slideshow__text-content" data-slide-content="">
          <div class="product-slideshow__slide-text" data-slide-index="0">
            <h3 class="product-slideshow__heading text-link-animated" data-animate="" data-animate-order="1">Image and text</h3>
            <div class="product-slideshow__text text-link-animated richtext-block" data-animate="" data-animate-order="2"><p>Showcase products with an engaging visual display.</p></div>
            <div class="product-slideshow__button" data-animate="" data-animate-order="3"></div>
            <div class="">
              <a href="https://flow-testing-store.myshopify.com/" class="dynamic-section-button--template--23457664958657__product_slideshow_3zJbth btn">
                Shop now
              </a>
            </div>
          </div>

          <div class="product-slideshow__slide-text" data-slide-index="0">
            <h3 class="product-slideshow__heading text-link-animated" data-animate="" data-animate-order="1">Image and text</h3>
            <div class="product-slideshow__text text-link-animated richtext-block" data-animate="" data-animate-order="2"><p>Showcase products with an engaging visual display.</p></div>
            <div class="product-slideshow__button" data-animate="" data-animate-order="3"></div>
            <div class="">
              <a href="https://flow-testing-store.myshopify.com/" class="dynamic-section-button--template--23457664958657__product_slideshow_3zJbth btn">
                Shop now
              </a>
            </div>
          </div>

          <div class="product-slideshow__slide-text" data-slide-index="0">
            <h3 class="product-slideshow__heading text-link-animated" data-animate="" data-animate-order="1">Image and text</h3>
            <div class="product-slideshow__text text-link-animated richtext-block" data-animate="" data-animate-order="2"><p>Showcase products with an engaging visual display.</p></div>
            <div class="product-slideshow__button" data-animate="" data-animate-order="3"></div>
            <div class="">
              <a href="https://flow-testing-store.myshopify.com/" class="dynamic-section-button--template--23457664958657__product_slideshow_3zJbth btn">
                Shop now
              </a>
            </div>
          </div>
        </div>
      </div>
    </product-slideshow>
    <script type="module">
      import Swiper from 'swiper';
      import { A11y, Keyboard, Navigation, Scrollbar } from 'swiper/modules';

      class ProductSlideshow extends HTMLElement {
        constructor() {
          super();
          this.sectionId = this.getAttribute('data-section-id');
          this.slideContentElement = this.querySelector('[data-slide-content]');
          this.slideTextElements = this.querySelectorAll('[data-slide-index]');
          this.speed = 600;
          this.init = this.init.bind(this);
          this.initSwiper = this.initSwiper.bind(this);
          this.updateSlideContent = this.updateSlideContent.bind(this);
          this.handleSlideChange = this.handleSlideChange.bind(this);
          this.handleBlockSelect = this.handleBlockSelect.bind(this);
          this.initMarquee = this.initMarquee.bind(this);
          this.retriggerAnimations = this.retriggerAnimations.bind(this);
        }

        connectedCallback() {
          window.wetheme.webcomponentRegistry.register({key: 'component-product-slideshow'});
          this.init();

          if (window.Shopify.designMode) {
            document.addEventListener('shopify:block:select', this.handleBlockSelect);
          }
        }

        init() {
          this.initSwiper();
          this.initMarquee();
        }

        initSwiper() {
          const nextEl = this.querySelector('.swiper-button--next');
          const prevEl = this.querySelector('.swiper-button--prev');

          this.swiper = new Swiper(this.querySelector('.swiper'), {
            modules: [A11y, Keyboard, Navigation, Scrollbar],
            slidesPerView: 2,
            spaceBetween: 0,
            centeredSlides: true,
            loop: true,
            speed: this.speed,
            lazyPreloadPrevNext: 1,
            navigation: {
              nextEl,
              prevEl,
            },
            keyboard: {
              enabled: true
            },
            breakpoints: {
              768: {
                allowTouchMove: false
              }
            },
            on: {
              init: () => {
                this.classList.add('swiper-initialized');
              },
              navigationNext: () => {
                this.handleSlideChange(this.speed);
              },
              navigationPrev: () => {
                this.handleSlideChange(this.speed);
              },
              touchEnd: () => {
                if (window.matchMedia('(max-width: 767px)').matches) {
                  this.handleSlideChange(0);
                }
              },
              keyPress: (swiper, keyCode) => {
                if (keyCode === 39 || keyCode === 37) {
                  // Handle left/right arrow keys
                  this.handleSlideChange(this.speed);
                }
              }
            }
          });
        }

        handleSlideChange(delay = this.speed) {
          // Lower z-index so text goes behind slider during transition
          if (this.slideContentElement) {
            this.slideContentElement.parentElement.style.zIndex = '0';
            const slideContentHeight = this.slideContentElement.parentElement.offsetHeight;
            this.style.setProperty('--slide-content-height', `${slideContentHeight}px`);
          }
          
          // Update content after specified delay
          setTimeout(() => {
            this.updateSlideContent();
            // Restore z-index so text is accessible after transition
            if (this.slideContentElement) {
              this.slideContentElement.parentElement.style.zIndex = '10';
            }
          }, delay);
        }

        updateSlideContent() {
          if (this.slideTextElements && this.swiper) {
            const activeSlide = this.swiper.slides[this.swiper.activeIndex];
            const blockIndex = parseInt(activeSlide.dataset.blockIndex, 10);
            
            // Hide all slide text elements
            this.slideTextElements.forEach(element => {
              element.removeAttribute('data-active');
            });
            
            // Show the active slide text element
            const activeTextElement = Array.from(this.slideTextElements).find(
              element => parseInt(element.dataset.slideIndex) === blockIndex
            );
            
            if (activeTextElement) {
              activeTextElement.setAttribute('data-active', '');
              this.retriggerAnimations(activeTextElement);
            }
          }
        }

        retriggerAnimations(textElement) {
          const animElements = textElement.querySelectorAll('[data-animate]');
          
          animElements.forEach(el => {
            el.removeAttribute('data-animate');
          });
          
          requestAnimationFrame(() => {
            animElements.forEach(el => {
              el.offsetHeight;
              el.setAttribute('data-animate', '');
            });
          });
        }

        handleBlockSelect(e) {
          const sectionId = e.detail.sectionId;
          if (this.sectionId != sectionId) return;

          const blockIndex = parseInt(e.target.dataset.blockIndex, 10);
          
          if (this.swiper && !isNaN(blockIndex)) {
            const isLoad = e.detail.load;
            const transitionDuration = isLoad ? 0 : this.speed; // Remove slide transition if a block setting is changed
            // Use slideToLoop with the block index directly since it corresponds to the real slide index
            this.swiper.slideToLoop(blockIndex, transitionDuration, false);
            this.handleSlideChange(transitionDuration);
          }
        }

        initMarquee() {
          const marqueeContent = this.querySelector('.product-slideshow__marquee-content');
          if (!marqueeContent) return;

          let retryCount = 0;
          const maxRetries = 10;
          const retryDelay = 100;

          const calculateMarquee = () => {
            const contentWidth = marqueeContent.scrollWidth;
            const containerWidth = marqueeContent.parentElement.offsetWidth;
            
            // Validate that content has actually rendered
            if (contentWidth === 0 || containerWidth === 0) {
              retryCount++;
              
              if (retryCount < maxRetries) {
                // Retry with exponential backoff
                setTimeout(calculateMarquee, retryDelay * retryCount);
                return;
              } else {
                // Max retries reached, log warning and rely on CSS fallbacks
                console.warn('Product slideshow: Unable to calculate marquee dimensions after', maxRetries, 'attempts. Using CSS fallbacks.');
                return;
              }
            }
            
            // Calculate the distance needed to move for seamless loop
            // We need to move by the width of one repetition (contentWidth / number of repetitions)
            // Since we have 10 repetitions, move by 1/10th of total width
            const moveDistance = (contentWidth / 10);
            
            // Calculate duration for consistent speed (pixels per second)
            // Target speed: 50 pixels per second
            const pixelsPerSecond = 20;
            const duration = moveDistance / pixelsPerSecond;
            
            // Validate calculated values
            if (duration > 0 && moveDistance > 0) {
              // Set both duration and move distance as CSS custom properties
              this.style.setProperty('--marquee-duration', `${duration}s`);
              this.style.setProperty('--marquee-distance', `${moveDistance}px`);
            }
          };

          // Use requestAnimationFrame for better timing, then start calculation
          requestAnimationFrame(() => {
            setTimeout(calculateMarquee, 50);
          });
        }

        disconnectedCallback() {
          if (this.swiper) {
            this.swiper.destroy();
          }

          if (window.Shopify.designMode) {
            document.removeEventListener('shopify:block:select', this.handleBlockSelect);
          }
        }
      }

      if (!customElements.get('product-slideshow')) customElements.define('product-slideshow', ProductSlideshow);
    </script>
  </div>

  <script src="script.js"></script>
</html>